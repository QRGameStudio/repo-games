<!DOCTYPE html><html lang=en><title>Asteroids</title><meta content=qrs.asteroids name=gi><meta content=0.1 name=gv><style>html{padding:0;margin:0;font-family:monospace;width:100vw;height:100vh;background:#fff;display:flex;justify-content:center;align-items:flex-start}#game-layer,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden}#game-canvas{width:100%;height:100%;margin:0;padding:0}@media only screen and (min-device-width:768px){.controls-c{display:none!important}}.controls-c{opacity:.5;position:fixed;bottom:1em;width:100%;display:flex;justify-content:center}.controls{width:100%;max-width:15cm;display:grid;grid-gap:10px;grid-template-columns:min-content 1fr min-content;justify-items:center}.btn{background:#d3d3d3!important;color:#fff;width:2cm;height:2cm}#fR{grid-area:1/3}#fL{grid-area:1/1}#bR{grid-area:2/3}#iS{grid-area:2/2;width:100%;height:2cm}#bL{grid-area:2/1}#game-score{color:#fff;font-size:25px}</style><script>const{random:e,sin:t,cos:n,PI:o}=Math,$=document.querySelector.bind(document);let h,s,l;function a(t){const n=t.createObject();return n.x=t.w/4,n.y=t.h/4,n.h=25,n.w=75,n.t="p",n.step=(()=>{t.kp("a")?n.d-=5:t.kp("d")&&(n.d+=5),t.kp("w")?n.s=5:t.kp("s")?n.s=-3:n.s=function(){const e=$("#iS").value;if(e>60)return(e-50)/50*5;if(e<40)return(50-e)/50*-3;return 0}()}),n.draw=(t=>{t.strokeStyle="white",t.lineWidth=5,t.beginPath(),t.moveTo(n.x+n.wh,n.y),t.lineTo(n.x,n.y+n.hh),t.lineTo(n.x,n.y-n.hh),t.closePath(),t.stroke(),n.s>0&&n.fwd&&(t.strokeStyle="yellow",t.lineWidth=5,t.beginPath(),t.moveTo(n.x,n.y+2*n.hh/3),t.lineTo(n.x-n.wh*e(),n.y),t.lineTo(n.x,n.y-2*n.hh/3),t.moveTo(n.x,n.y+2*n.hh/3),t.closePath(),t.stroke())}),n.oncollision=(()=>{t.paused=!0,h.play("failLong"),setTimeout(()=>{(new GModal).yesNo("Again?").then(e=>{e&&l()})},2e3)}),n.onscreenleft=(()=>r(n)),n}function c(e,t,n){const o=e.createObject(t.wh,2*t.hh/3*(n?-1:1),0,t);o.h=3,o.w=2*t.wh/3,o.s=7,o.t="l",o.draw=(e=>{e.strokeStyle="aqua",e.lineWidth=o.h,e.beginPath(),e.moveTo(o.x-o.wh,o.y),e.lineTo(o.x+o.wh,o.y),e.closePath(),e.stroke()}),o.onscreenleft=(()=>o.die())}function i(l,a=75,c=null,w=null){const u=2*o/8;let d=7*e()-3.5;const y=l.createObject();return y.w=y.h=a,y.x=null===c?l.w-y.wh+e()*l.w*.05:c,y.y=null===w?l.h-y.hh+e()*l.h*.05:w,y.s=1+2*e(),y.d=360*e(),y.t="a",y.cwl.add("l"),y.step=(()=>{y.ia+=d}),y.oncollision=(e=>{h.play("hit"),s.inc(1),y.w>=30&&(i(l,y.wh,y.x-y.wh,y.y),i(l,y.wh,y.x+y.wh,y.y)),y.die(),e.die()}),y.onscreenleft=(()=>r(y)),y.draw=(e=>{e.beginPath();for(let o=0;o<8;o++){const h=y.x-y.wh*n(u*o),s=y.y-y.hh*t(u*o);0===o?e.moveTo(h,s):e.lineTo(h,s)}e.closePath(),e.strokeStyle="orange",e.lineWidth=4,e.stroke()}),y}function r(e){e.x<0?e.x=e.game.w+e.wh:e.x>e.game.w&&(e.x=-e.wh),e.y<0?e.y=e.game.h+e.h:e.y>e.game.h&&(e.y=-e.hh)}window.onload=function(){const t=$("#game-canvas"),n=new GEG(t);h=new GSongLib,s=new GScore,(l=(()=>{n.res=GUt.isLandscape()?{w:1920,h:1080}:{w:1080,h:1920},n.paused=!0,n.objects.length=0,n.paused=!1;const t=a(n);$("#fR").ontouchstart=(()=>c(n,t,!1)),$("#fL").ontouchstart=(()=>c(n,t,!0));const o=$("#bR"),h=$("#bL");o.ontouchstart=(()=>n.press("d")),o.ontouchend=(()=>n.release("d")),h.ontouchstart=(()=>n.press("a")),h.ontouchend=(()=>n.release("a"));for(let e=0;e<10;e++)i(n);!function t(){i(n),setTimeout(()=>t(),2500+15e3*e())}(),n.onKeyDown=(e=>{" "===e&&(c(n,t,!0),c(n,t,!1))})}))(),n.run()};</script><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><div id=game-layer><canvas autofocus height=500 id=game-canvas width=500></canvas><div class=controls-c><div class=controls><button class=btn id=fL>!</button><button class=btn id=fR>!</button><button class=btn id=bL>&lt;</button><input id=iS max=100 min=1 type=range value=50><button class=btn id=bR>></button></div></div></div>