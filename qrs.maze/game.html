<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta content=1.0 name=gv><meta content=qrs.maze name=gi><meta content=JSUAKH name=gs><title>Maze</title><meta content="width=device-width,initial-scale=1"name=viewport><style>#game-content,body,html{width:100%;height:100%;background-color:var(--theme-primary);color:var(--theme-contrast)}*{user-select:none!important}.bttn,.cell,.person{position:absolute;text-align:center}.cell.left{border-left:1px solid var(--theme-contrast)}.cell.right{border-right:1px solid var(--theme-contrast)}.cell.bottom{border-bottom:1px solid var(--theme-contrast)}.cell.top{border-top:1px solid var(--theme-contrast)}.person{background-color:red;border-radius:50%}.gameOver{position:absolute;width:100vw;height:100vh}.moveBtn{position:absolute;background-color:transparent;left:0}</style><script>var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e=function(){return function(t,e){var n=this;this.clearBoard=function(){n.container.innerHTML=""},this.drawCell=function(t,e){var o=document.createElement("div");o.className="cell ",!0===n.maze.vertical[e][t]&&e!==n.maze.height-1||(o.className+="bottom "),!0===n.maze.horizontal[e][t]&&t!==n.maze.width-1||(o.className+="right "),0===t&&(o.className+="left "),0===e&&0!==t&&(o.className+="top"),o.style.width="".concat(n.cellWidht,"px"),o.style.height="".concat(n.cellWidht,"px"),o.style.left="".concat(n.leftOffset+n.cellWidht*t,"px"),o.style.top="".concat(n.topOffset+n.cellWidht*e,"px"),n.container.appendChild(o)},this.drawPerson=function(){var t=document.createElement("div");t.className="person",t.style.width="".concat(parseInt((.8*n.cellWidht).toString()),"px"),t.style.height="".concat(parseInt((.8*n.cellWidht).toString()),"px"),t.style.left="".concat(n.leftOffset+parseInt((.1*n.cellWidht).toString())+n.cellWidht*n.maze.getPersonPosition().x,"px"),t.style.top="".concat(n.topOffset+parseInt((.1*n.cellWidht).toString())+n.cellWidht*n.maze.getPersonPosition().y,"px"),n.container.appendChild(t)},this.drawButtons=function(){var t=document.createElement("div");t.className="moveBtn",t.style.width="100vw",t.style.height="30vh",t.style.top="0",t.onclick=function(){return n.maze.move("up")},n.container.appendChild(t);var e=document.createElement("div");e.className="moveBtn",e.style.width="100vw",e.style.height="30vh",e.style.top="70vh",e.onclick=function(){return n.maze.move("down")},n.container.appendChild(e);var o=document.createElement("div");o.className="moveBtn",o.style.width="50vw",o.style.height="40vh",o.style.top="30vh",o.onclick=function(){return n.maze.move("left")},n.container.appendChild(o);var i=document.createElement("div");i.className="moveBtn",i.style.width="50vw",i.style.height="40vh",i.style.top="30vh",i.style.left="50vw",i.onclick=function(){return n.maze.move("right")},n.container.appendChild(i)},this.draw=function(){n.clearBoard(),Array.from(Array(n.maze.height).keys()).forEach(function(t){return Array.from(Array(n.maze.width).keys()).forEach(function(e){return n.drawCell(t,e)})}),n.drawPerson(),n.drawButtons()},this.maze=t,this.container=e,this.topOffset=32,this.cellWidht=Math.floor((.9*Math.min(e.getBoundingClientRect().width,e.getBoundingClientRect().height)-16)/t.width),this.leftOffset=Math.floor((e.getBoundingClientRect().width-t.width*this.cellWidht)/2)}}(),n=function(){return function(n,o,i,r){var s=this;this.generate=function(){for(var t=s.width*s.height-1,e=0;e<s.width+1;e++)s.horizontal[e]=[];for(e=0;e<s.height+1;e++)s.vertical[e]=[];var n=[Math.floor(Math.random()*s.width),Math.floor(Math.random()*s.height)],o=[n],i=[];for(e=0;e<s.width+2;e++){i[e]=[];for(var r=0;r<s.height+1;r++)i[e].push(e>0&&e<s.width+1&&r>0&&(e!=n[0]+1||r!=n[1]+1))}for(;0<t;){var a=[[n[0]+1,n[1]],[n[0],n[1]+1],[n[0]-1,n[1]],[n[0],n[1]-1]],h=[];for(e=0;e<4;e++)i[a[e][0]+1][a[e][1]+1]&&h.push(a[e]);if(h.length){t-=1;var l=h[Math.floor(Math.random()*h.length)];i[l[0]+1][l[1]+1]=!1,l[0]==n[0]?s.horizontal[l[0]][(l[1]+n[1]-1)/2]=!0:s.vertical[(l[0]+n[0]-1)/2][l[1]]=!0,o.push(n=l)}else n=o.pop()}},this.move=function(t){"up"===t?0!==s.personPos.y&&s.vertical[s.personPos.y-1][s.personPos.x]&&(s.personPos.y-=1):"down"===t?s.personPos.y<s.height-1&&s.vertical[s.personPos.y][s.personPos.x]&&(s.personPos.y+=1):"left"===t?0!==s.personPos.x&&s.horizontal[s.personPos.y][s.personPos.x-1]&&(s.personPos.x-=1):"right"===t&&s.personPos.x<s.width-1&&s.horizontal[s.personPos.y][s.personPos.x]&&(s.personPos.x+=1),s.view.draw(),0===s.personPos.x&&0===s.personPos.y&&s.gameOver()},this.getPersonPosition=function(){return t({},s.personPos)},this.width=n,this.height=o,this.horizontal=[],this.vertical=[],this.personPos={x:n-1,y:o-1},this.gameOver=r,this.view=new e(this,i),this.generate(),this.view.draw()}}(),o=function(t,e){return new n(t,t,e,function(){var t=document.createElement("div");t.className="gameOver",t.onclick=i,e.appendChild(t)})},i=function(){(new GTheme).apply();var t=document.getElementById("game-content");t.innerHTML="",function(t){[{lbl:"easy",size:10},{lbl:"medium",size:22},{lbl:"hard",size:38}].forEach(function(e,n){var i=document.createElement("div");i.className="bttn ",i.style.width="80vw",i.style.height="10vh",i.style.left="10vw",i.style.top="".concat(10+12*n,"vh"),i.style.fontSize="".concat(Math.floor(.05*t.getBoundingClientRect().height),"px"),i.innerHTML=e.lbl,i.onclick=function(){t.innerHTML="",o(e.size,t)},t.appendChild(i)})}(t)};window.onload=i;</script><div id=game-content></div>